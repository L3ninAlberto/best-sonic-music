import{f as g,g as k,h as o,c as x,o as y,a as u,t as p,n as w,u as S}from"./index-BKJY277H.js";import{d as T}from"./data-_CipkDCd.js";const _=g("rounds",()=>{const a=k();var e=T.tracks;const t=o([]),c=o(0),r=o(),n=o(1),d=o(1),i=o(!0),l=o([]);function f(){if(e.length<2){r.value=t.value.pop(),c.value=t.value.length+1,i.value=!1;return}let s=e[Math.floor(Math.random()*e.length)],m=e[Math.floor(Math.random()*e.length)];s.name===m.name||(t.value.push([s,m]),e.splice([e.findIndex(h=>h.name===s.name)],1),e.splice([e.findIndex(h=>h.name===m.name)],1)),f()}f();function v(){t.value=[],e=l.value,l.value=[],d.value=1,n.value++,f()}function b(s){i.value=!0,l.value.push(s),r.value=t.value.pop(),r.value===void 0?l.value.length===1?a.push("/winner"):v():(d.value++,i.value=!1)}return{rounds:t,roundsLength:c,loadingRound:i,currentRound:r,roundNumber:n,vsNumber:d,winTracks:l,selectWinTrack:b,redefineVs:v}}),B={class:w("relative w-72 shadow-lg shadow-blue-950 rounded-xl")},M={class:"py-2 text-stone-700 text-center bg-white rounded-t-xl"},R=["src"],V={__name:"TrackComponent",props:["track","mode"],setup(a){const e=_(),t=a;function c(){window.location.href="/"}return(r,n)=>(y(),x("div",null,[u("div",B,[u("h3",M,p(t.track.name),1),u("iframe",{class:w("w-full h-72 rounded-b-xl"),src:`https://www.youtube.com/embed/${t.track.href}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,R),n[1]||(n[1]=u("div",{class:"absolute top-0 left-0 w-full h-full bg-black/5 hidden"},null,-1))]),u("button",{class:"mt-3 w-full py-3 bg-red-600 shadow-lg shadow-blue-950 rounded-xl hover:bg-red-500",onClick:n[0]||(n[0]=d=>a.mode==="vs"?S(e).selectWinTrack(t.track):c())},p(a.mode==="vs"?"Select":"Back to home"),1)]))}};export{V as _,_ as u};
